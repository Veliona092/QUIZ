<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ethics & Philosophy Quiz</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .question {
      margin-bottom: 20px;
    }
    .answerInput {
      margin-top: 5px;
      display: block;
      margin-bottom: 10px;
    }
    .correctAnswer {
      color: red;
      font-style: italic;
    }
    #score {
      font-weight: bold;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Ethics & Philosophy Quiz</h1>
  <form id="quizForm" onsubmit="return false;" autocomplete="off">
    <!-- Questions will be inserted here by JavaScript -->
  </form>
  <button type="button" onclick="submitQuiz()">Submit</button>
  <button type="button" onclick="resetQuiz()">Reset</button>
  <div id="score"></div>

  <script>
    const questions = [
        {"question": "The origin of Christianity is ____", "answer": "Christian Ethics"},
        {"question": "There is only one God who died on the cross for humanity. Who is the author of the quote?", "answer": "Friedrich Nietzsche"},
        {"question": "What is the first ethics of love?", "answer": "When you care for your fellowmen, that is love."},
        {"question": "What is better?", "answer": "To be a peacemaker, To be a peacekeeper"},
        {"question": "The ethics of Christ demands ____", "answer": "We love our neighbors. You can't love God unless you love your neighbor."},
        {"question": "The ethics of Jesus demands sacrifice. Complete the phrase: 'If you want to follow me, you need to ____'", "answer": "Carry your cross and sacrifice"},
        {"question": "What is the second ethics of love?", "answer": "Love one another as I love you."},
        {"question": "Manifest preferential option to the poor and oppressed. Who does this refer to?", "answer": "The persecuted"},
        {"question": "What are the types of poor?", "answer": "Abandoned, Spirituality, Financially, Physically"},
        {"question": "What is the ethics of Jesus in terms of the poor?", "answer": "Exploitation"},
        {"question": "List the six classifications of Christ's ethics.", "answer": [
            "The ethics of Jesus Christ shows more preference to the poor and the oppressed",
            "The ethics of Jesus is the ethics of love",
            "The ethics of Jesus demands honesty and authenticity",
            "The ethics of Jesus teaches faith in the Father",
            "The ethics of Jesus espouses peace and reconciliation",
            "The ethics of Jesus demands sacrifice and suffering"
        ]}
    ];

    const quizForm = document.getElementById('quizForm');

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function renderQuiz() {
      shuffleArray(questions);

      questions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'question';
        questionDiv.innerHTML = `<p>${index + 1}. ${q.question}</p>`;

        const answers = Array.isArray(q.answer) ? q.answer : [q.answer];

        answers.forEach((_, ansIndex) => {
          questionDiv.innerHTML += `
            <input type="text" name="question${index}answer${ansIndex}" class="answerInput" aria-label="Answer for question ${index + 1}" autocomplete="off" required>
          `;
        });

        questionDiv.innerHTML += `<p class="correctAnswer" style="display: none;">Correct answer: ${answers.join(', ')}</p>`;
        quizForm.appendChild(questionDiv);
      });
    }

    function submitQuiz() {
      let score = 0;
      const correctAnswers = document.querySelectorAll('.correctAnswer');

      questions.forEach((q, index) => {
        const answers = Array.isArray(q.answer) ? q.answer.map(a => a.toLowerCase()) : [q.answer.toLowerCase()];
        const userAnswers = answers.map((_, ansIndex) => {
          const input = document.querySelector(`input[name="question${index}answer${ansIndex}"]`);
          return input ? input.value.trim().toLowerCase() : "";
        });

        if (userAnswers.every(answer => answer !== "")) {
          const isCorrect = userAnswers.every((userAnswer, i) => answers[i] === userAnswer);
          if (isCorrect) {
            score++;
            correctAnswers[index].style.display = 'none';
          } else {
            correctAnswers[index].style.display = 'block';
          }
        }
      });

      document.getElementById('score').innerText = `Your score is ${score} out of ${questions.length}`;
    }

    function resetQuiz() {
      quizForm.innerHTML = '';
      document.getElementById('score').innerText = '';
      renderQuiz();
    }

    renderQuiz();
  </script>
</body>
</html>
